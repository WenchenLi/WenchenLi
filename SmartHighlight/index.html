<script src="libs/jquery-1.12.0.min.js"></script>
<!--<script type="text/javascript" src ="libs/d3.js"></script>-->
<script src="//d3js.org/d3.v3.min.js"></script>
<script src="libs/d3.layout.cloud.js"></script>
<script src ="smartHighlight.js"></script>
<script>
    //need to change this to map/ dictionary corresponding to the size of the text
    //from CORENLP return dictionary words_NER_Coref_dict,
    var words_NER_Coref_dict = {'hello':10, 'Wenchen':50,'NER':40,'cor':40};
//    var words_NER_Coref = getkeys(words_NER_Coref_dict);
    function getkeys(dict){
        var keys= [];
        for (var key in dict) {
            if (dict.hasOwnProperty(key)) {
                keys.push(key);
            }
        }
        return keys;
    }

    function wordCloud(dict) {
        var words_NER_Coref_dict = dict;
        var words_NER_Coref = getkeys(words_NER_Coref_dict);
        var layout = d3.layout.cloud()
            .size([500, 1000])
            .words(words_NER_Coref.map(function(d) {
//              return {text: d, size: 10 + Math.random() * 90, test: "haha"};
//                console.log(d);
                return {text: d, size: words_NER_Coref_dict[d], test: "haha"};
            }))
            .padding(5)
            .rotate(function() { return ~~(Math.random() * 2) * 90; })
            .font("Impact")
            .fontSize(function(d) { return d.size; })
            .on("end", draw);
        layout.start();
        function draw(words) {
            var fill = d3.scale.category20b();
            d3.select("body").append("svg")
                    .attr("width", layout.size()[0])
                    .attr("height", layout.size()[1])
                    .append("g")
                    .attr("transform", "translate(" + layout.size()[0] / 2 + "," + layout.size()[1] / 2 + ")")
                    .selectAll("text")
                    .data(words)
                    .enter().append("text")
                    .style("font-size", function(d) { return d.size + "px"; })
                    .style("font-family", "Impact")
                    .style("fill", function(d, i) { return fill(i); })
                    .attr("text-anchor", "middle")
                    .attr("transform", function(d) {
                        return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                    })
                    .text(function(d) { return d.text; });
        }
    }


</script>
<button onclick="highlight('Minsky','highlight','yellow',0,len(),0)">Highlight</button>
<button onclick="showCleanTxt(getInputURL())">showCleanText</button>
<button onclick="wordCloud(words_NER_Coref_dict)">toWordCloud</button>

URL: <input type="text" id="inputURL" value="https://en.wikipedia.org/wiki/Marvin_Minsky">
<style>
</style>
<div type="text" id="CleanText" value="hello world">

</div>